
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Обсуждение безопасности &mdash; Specification of the Exim Mail Transfer Agent 4.70 documentation</title>
    
    <link rel="stylesheet" href="static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '4.70',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/translations.js"></script>
    <link rel="top" title="Specification of the Exim Mail Transfer Agent 4.70 documentation" href="index.html" />
    <link rel="next" title="Формат файлов спула" href="ch53.html" />
    <link rel="prev" title="Монитор Exim’a" href="ch51.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="static/small_flask.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
    <div class="related">
      <h3>Просмотр</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Словарь-указатель"
             accesskey="I">словарь</a></li>
        <li class="right" >
          <a href="ch53.html" title="Формат файлов спула"
             accesskey="N">следующий</a> |</li>
        <li class="right" >
          <a href="ch51.html" title="Монитор Exim’a"
             accesskey="P">предыдущий</a> |</li>
        <li><a href="index.html">Specification of the Exim Mail Transfer Agent 4.70 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ch52-00">
<span id="id1"></span><h1>Обсуждение безопасности<a class="headerlink" href="#ch52-00" title="Ссылка на этот заголовок">¶</a></h1>
<p>Эта глава обсуждает множество проблем связанных с безопасностью, некоторые из которых также охвачены в других частях этого руководства.</p>
<p>По причинам, которые автор не понимает, некоторые люди продвигают Exim как “особенно безопасный” почтовый сервер. Возможно - из-за существования этой главы документации. Однако намерение главы просто описать способ Exim работ в отношении некоторых проблем в области безопасности, а не делать какие-либо конкретные претензии по поводу эффективности его безопасности по сравнению с другими MTA.</p>
<p>То, что следует далее - описание того, каким Exim должен быть. Наибольшие усилия были направлены на попытку гарантировать, что код соответствует теории, но отсутствие ошибок гарантировать нельзя. Любая ошибка о которой сообщат, будет исправлена как только возможно.</p>
<div class="section" id="exim-a">
<span id="ch52-01"></span><h2>Сборка более <em>защищённого</em> Exim&#8217;a<a class="headerlink" href="#exim-a" title="Ссылка на этот заголовок">¶</a></h2>
<p>Есть несколько параметров компилятора, которые могут быть установлены в <em>Local/Makefile</em>, для создания более “защищённого” от атак Exim&#8217;a, в частности от жуликоватых администраторов Exim&#8217;a, которые не владеют паролем root&#8217;a, или кого-то, кто проник через учетную запись Exim&#8217;a (но не root&#8217;a). Эти параметры таковы:</p>
<ul>
<li><p class="first">ALT_CONFIG_PREFIX - может быть установлена в строку, которая должна совпадать с началом любых имён файлов используемых с параметром <strong>-C</strong>. Когда она установлена, этим именам файлов, также, не разрешается содержать последовательность “/../”. (Однако, если значение параметра <strong>-C</strong> идентично со значением CONFIGURE_FILE в <em>Local/Makefile</em>, Exim игнорирует <strong>-C</strong> и работает как обычно.) Для ALT_CONFIG_PREFIX нет значения по умолчанию.</p>
<p>Если разрешённые конфигурационные файлы ограничены директорией к которой имеет доступ только root, это предохраняет тех, кто взломал учетная запись Exim&#8217;a от работы с произвольным конфигурационным файлом, и использования его для взлома других учетных записей.</p>
</li>
<li><p class="first">ALT_CONFIG_ROOT_ONLY - если она задана, привилегии root&#8217;a сохраняются для параметров <strong>-C</strong> и <strong>-D</strong> лишь если вызывающий Exim - root. Без этого, пользователь Exim&#8217;a также может использовать <strong>-C</strong> и <strong>-D</strong> и сохранять привилегии. Установка этого параметра блокирует возможность тестирования конфигурации используя <strong>-C</strong> напрямую через приём и доставку сообщения, если вызывающий - root. Приём работает, но к этому времени Exim работает как пользователь Exim&#8217;a, таким образом, когда он перезапускается для восстанавления привилегий доставки, использование <strong>-C</strong> вызывает потерю привилегий. Однако, root может тестировать приём и доставку используя две раздельные команды. По умолчанию, ALT_CONFIG_ROOT_ONLY не установлена.</p>
</li>
<li><p class="first">DISABLE_D_OPTION - если задана, отключено использование <strong>-D</strong> в командной строке.</p>
</li>
<li><p class="first">FIXED_NEVER_USERS - может быть установлена в список пользователей, разделённый двоеточиями, которые никогда не могут использоваться для доставки. Это похоже на рабочий параметр <strong>never_users</strong>, но не может быть изменена; рабочий параметр добавляет дополнительных пользователей в этот список. Установка по умолчанию- “root”; это предотвращает не-root&#8217;овых пользователей, кому разрешено изменять файл рабочей конфигурации, от использования Exim как способ получить root&#8217;овые привилегии.</p>
</li>
</ul>
</div>
<div class="section" id="root">
<span id="ch52-02"></span><h2>root&#8217;овые привилегии<a class="headerlink" href="#root" title="Ссылка на этот заголовок">¶</a></h2>
<p>На исполняемый файл Exim&#8217;a, обычно, установлен бит setuid на root&#8217;a, что означает, что в начале выполнения он получает root&#8217;овые привилегии (работает от root). В некоторых специальных случаях (например, когда не используется даемон, и нет локальных доставок), возможно запускать Exim с setuid на иного пользователя, чем root. Это обсуждается в следующей секции. Однако, в большинстве инсталляций, root&#8217;овые привилегии требуются по двум причинам:</p>
<ul class="simple">
<li>Для установления соединения сокета на стандартный порт SMTP (25) при инициализации слушающего даемона. Если Exim запускается из <em>inetd</em>, это привилегированное действие не требуется.</li>
<li>Чтобы быть в состоянии изменить uid и gid для чтения пользовательских файлов <em>.forward</em>, и выполнения локальных доставок от получающего пользователя или как задано в конфигурации.</li>
</ul>
<p>Не требуется root&#8217;овых привилегий для ещё чего-то, что делает Exim, типа получения сообщений и доставки их наружу через SMTP, и очевидно, более безопасно, если Exim не работает от root&#8217;a кроме случаев, когда это необходимо. Поэтому, пользователь и группа Exim&#8217;a должны быть заданы в <em>Local/Makefile</em>. Они известны как “the Exim user” и “the Exim group”. Их значения могут быть измены в рабочей конфигурации, хотя это не рекомендуется. Часто используется пользователь с именем “exim”, но некоторые сервера используют вместо него “mail” или другой имя пользователя.</p>
<p>Exim использует <em>setuid()</em> каждый раз, когда он сбрасывает привилегии root&#8217;a. Это - постоянное сложение полномочий; впоследствии, процесс не может восстановить привилегии. До версии 4.00, <em>setuid()</em> использовалась в некоторых обстоятельствах, но больше такого не имеет места.</p>
<p>После того, как новый процесс Exim&#8217;a интерпретировал параметры своей командной строки, он изменяет uid и gid в следующих случаях:</p>
<ul class="simple">
<li>Если используется параметр <strong>-C</strong> для задания альтернативного конфигурационного файла, или используется параметр <strong>-D</strong> для определения макро-значения для конфигурации, и вызывающий процесс не запущен как root или пользователь Exim&#8217;a, uid и gid изменяются на заданные вызывающим процессом. Однако, если в <em>Local/Makefile</em> задана ALT_CONFIG_ROOT_ONLY, лишь вызывающий root может использовать <strong>-C</strong> и <strong>-D</strong> без потери привилегий, и если задана DISABLE_D_OPTION, параметр <strong>-D</strong> не может использоваться вообще.</li>
<li>Если используется параметр тестирования раскрытия (<strong>-be</strong>), или один из параметров тестирования фильтра (<strong>-bf</strong> или <strong>-bF</strong>), uid и gid изменяются на таковые из вызывающего процесса.</li>
<li>Если процесс - не процесс даемона, и не процесс обработчика очереди, или процесс доставки, или процесс тестирования маршрутизации адреса (запущенный с <strong>-bt</strong>), uid и gid изменяются на пользователя и группу Exim&#8217;a. Это означает, что при получении сообщений Exim всегда работает под своим собственным uid и gid. Это также применяется когда тестируется проверка адреса (параметр <strong>-bv</strong>), и тестируется политика входящих сообщений (параметр <strong>-bh</strong>).</li>
<li>Для даемона, обработчика очереди, доставки, или процесса тестирования адресов, на данном этапе uid остаётся root, но gid изменяется на группу Exim&#8217;a.</li>
</ul>
<p>Процессы, которые изначально сохраняют root&#8217;овые привилегии, ведут себя следующим образом:</p>
<ul class="simple">
<li>Процесс даемона изменяет gid на группу Exim&#8217;a и uid на пользователя Exim&#8217;a после установки одного или нескольких слушающих сокетов. Вызывается функция <em>initgroups()</em>, таким образом, чтобы если пользователь Exim&#8217;a находится в каких-то дополнительных группах, они использовались в процессе доставки.</li>
<li>Процесс обработчика очереди сохраняет привилегии root&#8217;a в процессе выполнения. Его работа - запустить контролируемую последовательность процессов доставки.</li>
<li>Процесс доставки сохраняет привилегии root&#8217;a в большинстве своих выполнений, но любые актуальные доставки (т.е. - непосредственно транспорты) запускаются в подпроцессах, которые всегда изменяются на не-root&#8217;овые uid и gid. Для локальных доставок, это, обычно, uid и gid владельца почтового ящика; для удалённых доставок, используются uid и gid пользователя Exim&#8217;a. Как только все подпроцессы доставки запущены, процесс доставки изменяется на uid и gid Exim&#8217;a, пока производятся работы после доставки, типа обновления БД повторов, и создания рикошетов и предупреждающих сообщений.</li>
<li>Когда маршрутизируются адреса получателей сообщения, процесс доставки работает от root&#8217;a. Однако, если обрабатывается пользовательский файл фильтра, он завершается в подроцессе который работает под индивидуальным пользовательским gid и uid. Системный фильтр запускается от root&#8217;a, если не задана <strong>system_filter_user</strong>.</li>
<li>Проверяющий адреса процесс (параметр <strong>-bt</strong>), запускается от root&#8217;a, таким образом маршрутизация делается в том же окружении, что и доставка сообщения.</li>
</ul>
</div>
<div class="section" id="exim">
<span id="ch52-03"></span><h2>Работа Exim без привилегий<a class="headerlink" href="#exim" title="Ссылка на этот заголовок">¶</a></h2>
<p>Некоторые инсталляции любят запускать Exim под непривилегированным пользователем, для дополнительной безопасности. Поддержка для этого режима предоставляется путём глобального параметра <strong>deliver_drop_privilege</strong>. Когда он установлен, uid и gid изменяются на пользователя и группу Exim&#8217;a в начале процесса доставки (и, также, обработчик очереди и процесс тестирования адресов). Это означает, что маршрутизация адресов не работает от root&#8217;a, и сами доставки не могут измениться на иной uid.</p>
<p>Оставление на исполняемом файле setuid на root&#8217;a, но установка <strong>deliver_drop_privilege</strong> означает, что даемон всё ещё может запуститься обычным способом, и он может корректно ответить на SIGHUP, поскольку повторный вызов восстанавливает привилегии root&#8217;a.</p>
<p>Альтернативный подход состоит в том, чтобы сделать Exim setuid на пользователя Exim&#8217;a, и, также, сделать его setgid на группу Exim&#8217;a. Если вы сделаете это, даемон должен запускаться с root&#8217;овыми правами. (Вызов Exim&#8217;a из процесса root&#8217;a заставляет его вести себя так, как он себя ведёт когда setuid на root.) Однако, даемон не может перезапуститься после сигнала SIGHUP, поскольку он не может восстановить привилегии.</p>
<p>В этом случае, всё ещё полезно установить <strong>deliver_drop_privilege</strong>, поскольку это помещает Exim&#8217;y повторно перевызвать самого себя, для проведения доставки после получения сообщения. Такой повторный вызов - растрата ресурсов, поскольку он не имеет эффекта.</p>
<p>Если перезапуск даемона - не проблема (например, если установлен <strong>mua_wrapper</strong>, или вместо даемона используется <em>inetd</em>), обладание бинарником setuid на пользователя Exim кажется совершенным подходом, но есть одно осложнение:</p>
<p>В этом стиле действия, Exim работает с реальным uid и gid, установленным к тем же что и увызывающего процесса, и эффективный uid/gid установлен в значения Exim&#8217;a. Идеально, любая ассоциация с uid/gid вызывающего процесса должан быть отброшена, т.е. реальный uid/gid должен быть сброшен в эффективные значения, чтобы отказаться от любых привилегий, которые мог иметь вызывавший. Некоторые операционные системы обладают функцией, которая разрешает это действие для не-root&#8217;ового эффективного uid, но многие её не имеют. Из-аз этой недостаточной стандартизации, Exim не обращается к этой проблеме в настоящее время.</p>
<p>Поэтому, рекомендованный подход для “совсем непривилегированного” запуска состоит в том, чтобы оставить исполняемый файл Exim&#8217;a setuid на root, и установить <strong>deliver_drop_privilege</strong>. Это, также, имеет преимущество - разрешение работы даемона прямым способом.</p>
<p>Если вы настраиваете Exim не начинать процесс доставки от root&#8217;a, есть множество ограничений на то, что вы можете сделать:</p>
<ul class="simple">
<li>Вы можете доставлять лишь как пользователь/группа Exim&#8217;a. Вы должны явно использовать параметры <strong>user</strong> и <strong>group</strong> для изменения маршрутизаторов и локальных транспортов которые обычно доставляют под получателем. Этим удостоверяется, что конфигурация работающая в этом режиме работает точно таким же способом как и в обычном режиме. Любое явное или неявное задание другого пользователя вызывает ошибку.</li>
<li>Использование файлов <em>.forward</em> строго ограничено, так что, обычно, не стоит их включать в конфигурацию.</li>
<li>Пользователи использующие <em>.forward</em> должны сделать чтобы их домашний каталог был доступен пользователю Exim&#8217;a. Трубы и добавления в файл, и их эквиваленты в фильтрах Exim&#8217;a, не могут использоваться. Можно было бы включить их под пользователем Exim&#8217;a, что небезопасно и не очень полезно.</li>
<li>Если не все локальные почтовые ящики принадлежат пользователю Exim&#8217;a (возможно в некоторых окружениях использующих только POP3 или IMAP):<ol class="arabic">
<li>Они должны принадлежать группе Exim&#8217;a и у этой группы должно быть право записи в них. Это подразумевает, что вы должны установить <strong>mode</strong> в конфигурации <strong>appendfile</strong>, так же как режим для самих почтовых ящиков.</li>
<li>Вы должны установить <strong>no_check_owner</strong>, поскольку большинство или все файлы не будут принадлежать пользователю Exim&#8217;a.</li>
<li>Вы должны установить <strong>file_must_exist</strong>, поскольку Exim не может корректно установить владельца новых создаваемых почтовых ящиков, когда у него нет привилегий. Также это подразумевает, что новые почтовые ящики необходим создавать вручную.</li>
</ol>
</li>
</ul>
<p>Эти ограничения строго ограничивают то, что может быть сделано в локальных доставках Однако, они не оказывают влияния на удалённые доставки. Если вы запускаете шлюз, не делающий локальных доставок, установка <strong>deliver_drop_privilege</strong> не добавляет безопасности.</p>
<p>Если вы используете средство <strong>mua_wrapper</strong> (смотрите главу <a class="reference internal" href="ch48.html#ch48-00"><em>48</em></a>), параметр  <strong>deliver_drop_privilege</strong> обязательно должна быть истинной.</p>
</div>
<div class="section" id="ch52-04">
<span id="id2"></span><h2>Доставка в локальные файлы<a class="headerlink" href="#ch52-04" title="Ссылка на этот заголовок">¶</a></h2>
<p>Полная детализация проверок применяемых путём <strong>appendfile</strong> до записи в файл даны в главе <a class="reference internal" href="ch26.html#ch26-00"><em>26</em></a>.</p>
</div>
<div class="section" id="ipv4">
<span id="ch52-05"></span><h2>Источник маршрутизации IPv4<a class="headerlink" href="#ipv4" title="Ссылка на этот заголовок">¶</a></h2>
<p>Много операционных систем подавляют пакеты IP маршрутизации источника в ядре, но некоторые не делают этого, таким образом, Exim производит свою собственную проверку. Он записывает в лог входящие вызовы TCP маршрутизации источника IPv4, и, затем, обрывает их. Это отличается от IPv6. В настоящее время, никакой специальной проверки не делается.</p>
</div>
<div class="section" id="vrfy-expn-etrn-smtp">
<span id="ch52-06"></span><h2>Команды VRFY, EXPN, и ETRN в SMTP<a class="headerlink" href="#vrfy-expn-etrn-smtp" title="Ссылка на этот заголовок">¶</a></h2>
<p>Поддержка этих SMTP команд по умолчанию отключена. Если требуется, они могут быть включены путём задания подходящих ACL.</p>
</div>
<div class="section" id="ch52-07">
<span id="id3"></span><h2>Привилегированные пользователи<a class="headerlink" href="#ch52-07" title="Ссылка на этот заголовок">¶</a></h2>
<p>Exim распознаёт два набора пользователей со специальными привилегиями. Доверенные пользователи имеют возможность локально посылать новые сообщения Exim&#8217;y, подставляя их собственные адреса отправителя и информацию о хосте отсылки. Для других пользователей посылающих локальные сообщения, Exim устанавливает адрес отправителя из uid, и не позволяет задавать удалённый хост.</p>
<p>Однако, недоверенным пользователям разрешено использовать параметр командной строки <strong>-f</strong>, в специальной форме <strong>-f &lt;&gt;</strong>, для индикации, что неудача доставки не должна вызвать отчёт о ошибке. Это затрагивает конверт сообщения, но не затрагивает заголовок “Sender:”. Недоверенным пользователям также может быть разрешено использовать специфическую форму адресов с параметром <strong>-f</strong>, путём установки параметра <strong>untrusted_set_sender</strong>.</p>
<p>Доверенные пользователи используются для запуска процессов которые получают почтовые сообщения с одних почтовых доменов и передают их Exim&#8217;y для их локальной доставки, или через интернет. Exim доверяет вызывающему работающему от root&#8217;a, от пользователя Exim&#8217;a, или под любым пользователем перечисленным в конфигурационного параметра <strong>trusted_users</strong>, или под любой группой перечисленной в параметре <strong>trusted_groups</strong>.</p>
<p>Административным пользователям разрешено производить действия над сообщениями в очереди Exim&#8217;a. Они могут замораживать или оттаивать сообщения, вызывать их возвращение к их отправителю, полностью удалять их, или модифицировать их различными способами. Дополнительно, административные пользователи могут запускать монитор Exim&#8217;a и видеть всю информацию которую он может предоставить, включая содержимое файлов спула.</p>
<p>По умолчанию, использование параметров <strong>-M</strong> и <strong>-q</strong>, вызывающих Exim для попытки доставить сообщения в его очереди, ограничено административными пользователями. Это ограничение может быть ослаблено путём установки параметра <strong>no_prod_requires_admin</strong>. Точно также, использование <strong>-bp</strong> (и его вариантов) для получения списка содержимого очереди, также ограничено административными пользователями. Это ограничение может быть ослаблено путём установки параметра <strong>no_queue_list_requires_admin</strong>.</p>
<p>Exim распознаёт административного пользователя если вызывающий процесс запущен как root или как пользователь Exim&#8217;a, или любая группа ассоциированная с процессом  - группа Exim&#8217;a. Нет необходимости фактически работать от группы Exim&#8217;a. Однако, если административные пользователи не являющиеся root&#8217;ом или пользователем Exim&#8217;a должны получить доступ к содержимому файлов spool`a через монитр Exim&#8217;a (который работает непривилегированным), Exim должен быть собран с разрешением группе доступа на чтение к его файлам спула.</p>
</div>
<div class="section" id="ch52-08">
<span id="id4"></span><h2>Файлы спула<a class="headerlink" href="#ch52-08" title="Ссылка на этот заголовок">¶</a></h2>
<p>Директория спула Exim&#8217;a, и всё что она содержит, принадлежит пользователю Exim&#8217;a и его группе. Режим файлов спула задаётся в конфигурационном файле <em>Local/Makefile</em>, и по умолчанию - 0640. Это означает, что любой, кто является пользователем группы Exim&#8217;a может получить доступ к этим файлам.</p>
</div>
<div class="section" id="argv-0">
<span id="ch52-09"></span><h2>Использование argv[0]<a class="headerlink" href="#argv-0" title="Ссылка на этот заголовок">¶</a></h2>
<p>Exim проверяет последний компонент <strong>argv[0]</strong>, и если он совпадает с одной из установленных специфических строк, Exim предполагает определённые параметры. Например, вызов Exim с последним компонентом <strong>argv[0]</strong> установленным в “rsmtp” - точный эквивалент его вызова с параметром <strong>-bS</strong>. Никаких значений безопасности в этом нет.</p>
</div>
<div class="section" id="f">
<span id="ch52-10"></span><h2>Использование форматирования %f<a class="headerlink" href="#f" title="Ссылка на этот заголовок">¶</a></h2>
<p>Единственное использование сделанное Exim&#8217;ом с использованием “%f” - форматирование значений средней загрузки. Фактически они сохранены в цифровых переменных как 1000 времён средней загрузки. Следовательно, их диапазон ограничен, и поэтому - это длина конвертированного вывода.</p>
</div>
<div class="section" id="ch52-11">
<span id="id5"></span><h2>Встроенные пути Exim&#8217;a<a class="headerlink" href="#ch52-11" title="Ссылка на этот заголовок">¶</a></h2>
<p>Exim использует своё собственное имя пути, которое встроено в код, лишь когда ему необходимо перезапуститься для восстановления root&#8217;овых привилегий. Поэтому, он не работает от root&#8217;a, когда это делает. Если бы какая-то ошибка позволила перезадать путь, это привело бы к запуску произвольной программы от root&#8217;a, а не Exim&#8217;a.</p>
</div>
<div class="section" id="sprintf">
<span id="ch52-12"></span><h2>Использование sprintf()<a class="headerlink" href="#sprintf" title="Ссылка на этот заголовок">¶</a></h2>
<p>Большое количество “sprintf” в коде - фактические вызовы <em>string_sprintf()</em>, функции которая возвращает результат сохранения <em>malloc</em>. Промежуточное форматирование сделано в большой фиксированный буфер, путём функции которая запускается через непосредственное форматирование строки, и проверки длинны каждого преобразования до его выполнения, что предотвращает переполнение буфера.</p>
<p>Оставшиеся использования <em>sprintf()</em> происходят при контролируемых обстоятельствах, где выходной буфер заведомо достаточной длинны, чтобы содержать конвертированную строку.</p>
</div>
<div class="section" id="debug-printf-log-write">
<span id="ch52-13"></span><h2>Использование debug_printf() и log_write()<a class="headerlink" href="#debug-printf-log-write" title="Ссылка на этот заголовок">¶</a></h2>
<p>Обоим этим функциям передаются произвольные строки, но они производят их форматирование путём вызова функции <em>string_vformat()</em>, которая непосредственно обрабатывает форматируемую строку и проверяет длину каждого преобразования.</p>
</div>
<div class="section" id="strcat-strcpy">
<span id="ch52-14"></span><h2>Использование strcat() и strcpy()<a class="headerlink" href="#strcat-strcpy" title="Ссылка на этот заголовок">¶</a></h2>
<p>Они используются лишь когда известно, что выходной буфер достаточно большой для хранения результата.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Содержание</a></h3>
  <ul>
<li><a class="reference internal" href="#">Обсуждение безопасности</a><ul>
<li><a class="reference internal" href="#exim-a">Сборка более <em>защищённого</em> Exim&#8217;a</a></li>
<li><a class="reference internal" href="#root">root&#8217;овые привилегии</a></li>
<li><a class="reference internal" href="#exim">Работа Exim без привилегий</a></li>
<li><a class="reference internal" href="#ch52-04">Доставка в локальные файлы</a></li>
<li><a class="reference internal" href="#ipv4">Источник маршрутизации IPv4</a></li>
<li><a class="reference internal" href="#vrfy-expn-etrn-smtp">Команды VRFY, EXPN, и ETRN в SMTP</a></li>
<li><a class="reference internal" href="#ch52-07">Привилегированные пользователи</a></li>
<li><a class="reference internal" href="#ch52-08">Файлы спула</a></li>
<li><a class="reference internal" href="#argv-0">Использование argv[0]</a></li>
<li><a class="reference internal" href="#f">Использование форматирования %f</a></li>
<li><a class="reference internal" href="#ch52-11">Встроенные пути Exim&#8217;a</a></li>
<li><a class="reference internal" href="#sprintf">Использование sprintf()</a></li>
<li><a class="reference internal" href="#debug-printf-log-write">Использование debug_printf() и log_write()</a></li>
<li><a class="reference internal" href="#strcat-strcpy">Использование strcat() и strcpy()</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ch51.html" title="предыдущая глава">Монитор Exim&#8217;a</a></li>
      <li>Next: <a href="ch53.html" title="следующая глава">Формат файлов спула</a></li>
  </ul></li>
</ul>
  <h3>На этой странице</h3>
  <ul class="this-page-menu">
    <li><a href="sources/ch52.txt"
           rel="nofollow">Показать исходный текст</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Быстрый поиск</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Введите слова для поиска или имя модуля, класса или функции.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2011, Exim Maintainers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>